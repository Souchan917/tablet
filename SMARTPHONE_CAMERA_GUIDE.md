# 📱 スマホカメラ配信システム 使用ガイド

## 🎯 概要
スマホのカメラ映像をタブレット端末にリアルタイム配信するシステムです。

## 📋 必要なもの
- **スマホ**: カメラ付き（Android/iOS）
- **タブレット**: 受信用端末
- **インターネット接続**: 両端末で必要
- **ブラウザ**: Chrome、Safari、Firefox等

## 🚀 配信手順

### 1. スマホ側の準備

#### 1-1. サイトにアクセス
```
https://your-domain.com/tablet/
```

#### 1-2. カメラ画面に移動
- 画面下部の「カメラ」ボタンをタップ
- スマホ専用の簡易UIが表示されます

#### 1-3. カメラ開始
- 「📹 カメラ開始」ボタンをタップ
- カメラアクセス許可を「許可」に設定
- カメラ映像が表示されれば成功

#### 1-4. 配信開始
- 「🚀 配信開始」ボタンをタップ
- 「配信中...」と表示されれば成功

### 2. タブレット側の準備

#### 2-1. サイトにアクセス
```
https://your-domain.com/tablet/
```

#### 2-2. カメラ画面に移動
- 画面下部の「カメラ」ボタンをタップ

#### 2-3. 受信モード選択
- 「📺 タブレットで表示」ボタンをタップ
- 「受信準備完了」と表示されれば成功

#### 2-4. 配信待機
- スマホ側から配信が開始されると自動で映像が表示されます

## 🔧 トラブルシューティング

### よくある問題と解決方法

#### ❌ カメラアクセスが拒否された
**解決方法:**
1. ブラウザの設定でカメラアクセスを許可
2. サイトを再読み込み
3. 再度「カメラ開始」をタップ

#### ❌ 配信開始できない
**確認事項:**
1. カメラが正常に開始されているか
2. インターネット接続が安定しているか
3. タブレット側が受信モードになっているか

#### ❌ 映像が表示されない
**確認事項:**
1. 両端末が同じネットワークに接続されているか
2. ファイアウォールでWebRTCがブロックされていないか
3. ブラウザが最新版か

#### ❌ 接続エラーが表示される
**解決方法:**
1. ページを再読み込み
2. ブラウザを再起動
3. 別のブラウザで試行

## 📱 スマホ専用機能

### 自動デバイス判定
- スマホでアクセスすると自動で簡易UIが表示
- 複雑な設定は不要
- 3ステップで配信開始

### 背面カメラ優先
- 自動で背面カメラ（メインカメラ）を選択
- 高画質での配信が可能

### 接続状態表示
- リアルタイムで接続状態を表示
- エラー時は具体的な解決方法を提示

## 🖥️ タブレット専用機能

### 自動受信
- 固定ID「tabletcam」で自動受信
- 配信側からの接続を自動検知

### 遅延機能
- 0.0〜5.0秒の遅延時間調整可能
- リアルタイム配信と遅延配信を選択可能

### 全画面表示
- 映像を画面いっぱいに表示
- タッチ操作で簡単に全画面切り替え

## 🔍 デバッグ機能

### コンソールコマンド
開発者コンソールで以下のコマンドが利用可能：

```javascript
// スマホ側
simpleCamera.start()    // カメラ開始
simpleCamera.stream()   // 配信開始
simpleCamera.stop()     // 配信停止
simpleCamera.status()   // 状態確認

// タブレット側
debugApp.checkAll()     // 全システム状態確認
```

### 接続状態確認
- 右上の接続インジケーターで状態確認
- 緑色：接続中
- 黄色：接続中（警告）
- 赤色：切断中

## 📞 サポート

### 技術サポート
- ブラウザの開発者コンソールでエラーログを確認
- ネットワーク接続を確認
- ブラウザの更新を推奨

### 推奨ブラウザ
- **Chrome**: 最新版推奨
- **Safari**: iOS 13以上
- **Firefox**: 最新版推奨
- **Edge**: 最新版推奨

## ⚠️ 注意事項

### プライバシー
- カメラ映像は端末間でのみ送信
- サーバーには保存されません
- 配信停止時は映像を完全に停止

### ネットワーク
- 安定したWi-Fi接続を推奨
- モバイルデータ通信でも利用可能
- 通信量に注意（高画質配信時）

### バッテリー
- 長時間配信時はバッテリー消費に注意
- 充電しながらの使用を推奨

## 🎉 使用例

### 謎解き公演での活用
1. **スマホで撮影**: 参加者の様子を撮影
2. **タブレットで表示**: スタッフが状況を確認
3. **リアルタイム共有**: 複数スタッフで情報共有

### イベント配信
1. **GoPro接続**: USB接続でGoPro映像を配信
2. **複数カメラ**: 複数スマホから同時配信
3. **遅延配信**: 演出効果のための遅延配信

---

**最終更新**: 2024年12月
**バージョン**: 1.0 