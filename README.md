# 謎解き公演制御システム

謎解き公演で使用するタブレットやモニター画面を一元制御するWebアプリケーションです。
Firebaseを使用して複数の端末をリアルタイムで同期させることができます。

## 🎭 機能概要

- **複数端末制御**: タブレット、モニター、管理者端末を一元管理
- **リアルタイム同期**: Firebaseを使用して全端末を同期
- **シーン管理**: 5つの異なるシーンを管理者から制御
- **デバイス管理**: 接続デバイスの状態監視
- **レスポンシブデザイン**: スマートフォンからPCまで対応

## 📁 ファイル構成

```
tablet/
├── index.html              # メインHTMLファイル
├── css/
│   └── style.css          # スタイルシート
├── js/
│   ├── config.js          # アプリケーション設定
│   ├── firebase-config.js # Firebase設定
│   ├── device-manager.js  # デバイス管理
│   ├── scene-controller.js # シーン制御
│   └── app.js             # メインアプリケーション
└── README.md              # このファイル
```

## 🚀 使用方法

### 1. ファイルのダウンロード

プロジェクトファイルをWebサーバーに配置してください。

### 2. Firebase設定（複数端末同期を使用する場合）

1. [Firebase Console](https://console.firebase.google.com/) でプロジェクトを作成
2. Realtime Database を有効化
3. `js/firebase-config.js` ファイルを編集し、Firebase設定を入力

```javascript
const firebaseConfig = {
    apiKey: "your-api-key",
    authDomain: "your-project.firebaseapp.com",
    databaseURL: "https://your-project-default-rtdb.firebaseio.com/",
    projectId: "your-project-id",
    storageBucket: "your-project.appspot.com",
    messagingSenderId: "123456789",
    appId: "your-app-id"
};
```

### 3. デバイスの接続

1. ブラウザで `index.html` を開く
2. デバイス名とタイプを入力
3. 「接続」ボタンをクリック

**デバイスタイプ:**
- **タブレット**: 謎解きコンテンツを表示
- **モニター**: 大画面での表示用
- **管理者**: 公演制御パネルを表示

### 4. 公演の実行

管理者端末から以下の操作が可能です：

- **公演開始**: オープニングシーンから開始
- **一時停止**: 現在のシーンで一時停止
- **リセット**: 待機画面に戻る
- **シーン切り替え**: 1-5のシーンに直接切り替え

## 🎮 キーボードショートカット

- `Ctrl/Cmd + 数字(0-5)`: シーン切り替え（管理者のみ）
- `Ctrl/Cmd + Shift + S`: システム状態をコンソールに出力
- `F11`: フルスクリーン切り替え

## 🎨 シーン構成

1. **オープニング**: 謎解き公演の開始
2. **パズルの部屋**: 暗号解読の謎
3. **魔法の鏡**: 鏡文字の謎
4. **時計台の秘密**: 時刻に関する謎
5. **エンディング**: 公演の終了

各シーンは独自の背景色とアニメーションを持ち、視覚的に区別されています。

## 🔧 カスタマイズ

### シーンの追加・編集

`js/scene-controller.js` の `initializeSceneData()` メソッドでシーンを編集できます：

```javascript
2: {
    id: 2,
    title: 'カスタムシーン',
    content: `<h2>独自のコンテンツ</h2>`,
    background: 'linear-gradient(135deg, #color1, #color2)',
    animation: 'fade-in'
}
```

### スタイルの変更

`css/style.css` でデザインをカスタマイズできます：

- シーン別背景色
- ボタンスタイル
- アニメーション効果
- レスポンシブ設定

## 📱 テストモード

Firebase設定を行わない場合、テストモードで動作します：

- ローカルでの動作確認が可能
- ダミーデバイスデータを表示
- 基本的なシーン切り替え機能

## 🛠️ トラブルシューティング

### Firebase接続エラー

- Firebase設定が正しく入力されているか確認
- Realtime Databaseが有効化されているか確認
- ネットワーク接続を確認

### デバイスが表示されない

- 同じFirebaseプロジェクトを使用しているか確認
- ブラウザのコンソールでエラーを確認
- デバイス名が重複していないか確認

### シーンが切り替わらない

- 管理者権限でログインしているか確認
- Firebase接続状況を確認
- ブラウザを再読み込み

## 🔒 セキュリティ

本番環境では以下のセキュリティ対策を実施してください：

- Firebase セキュリティルールの設定
- HTTPS での配信
- 管理者認証システムの実装
- アクセス制御の設定

## 📄 ライセンス

このプロジェクトは個人・商用利用可能です。
ご自由にカスタマイズしてお使いください。

## 🤝 サポート

質問や不具合報告がある場合は、開発者にお問い合わせください。

---

**謎解き公演制御システム v1.0.0**  
素晴らしい謎解き体験をお楽しみください！ 🎭✨ 