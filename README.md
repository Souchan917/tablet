# 謎解き公演制御システム

謎解き公演用のタブレット制御システムです。複数のタブレットを連携させて、モニター表示、車両番号表示、カメラ制御などを行うことができます。

## 機能

- **選択画面**: 6つのモード（スタッフ、マスター、モニター前、モニター後、カメラ、車両番号）から選択
- **スタッフ制御**: 12チームの進捗管理と他のタブレットを制御するための操作画面
- **チーム進捗管理**: 12チームの個別・一括進捗管理機能
- **モニター表示**: 画像を全画面表示する画面（前・後）
- **車両番号表示**: 車両番号をおしゃれに表示する画面
- **カメラ制御**: カメラ機能の制御画面（全画面表示）
- **ステップ連動**: チームの進捗に応じて画像・車両番号が自動更新
- **リアルタイム同期**: Firebase Realtime Databaseを使用した複数端末の同期

## セットアップ手順

### 1. Firebase設定状況

✅ **Firebase設定**: 完了済み（プロジェクト「gatango-3ea57」）
❌ **Realtime Database**: 有効化が必要

### 2. Realtime Databaseの有効化

1. [Firebase Console](https://console.firebase.google.com/)にアクセス
2. プロジェクト「gatango-3ea57」を選択
3. 左側のメニューから「Realtime Database」を選択
4. 「データベースを作成」をクリック
5. セキュリティルールで「テストモードで開始」を選択（後で変更可能）
6. 地域を選択（推奨：asia-northeast1）

**注意**: Firebase設定は既に完了しています。上記の手順でRealtime Databaseを有効にしてください。

### 3. Realtime Databaseルールの設定

Firebase Consoleで、Realtime Databaseのルールを以下のように設定してください：

```json
{
  "rules": {
    ".read": true,
    ".write": true
  }
}
```

**注意**: これは開発用の設定です。本番環境では適切なセキュリティルールを設定してください。

### 4. 画像の配置

`images/`フォルダに以下の画像を配置してください：

```
images/
├── step1-front.jpg    # ステップ1のモニター前画像
├── step1-back.jpg     # ステップ1のモニター後画像
├── step2-front.jpg    # ステップ2のモニター前画像
├── step2-back.jpg     # ステップ2のモニター後画像
├── ...                # 各ステップの画像
└── step10-back.jpg    # ステップ10のモニター後画像
```

### 5. 使用方法

1. `index.html`をブラウザで開きます
2. 各タブレットで適切なモードを選択します
3. スタッフ画面から12チームの進捗を管理できます
4. 進捗に応じて自動的に他の画面が更新されます

## ファイル構成

```
tablet/
├── index.html          # メインのHTMLファイル
├── css/
│   └── style.css       # スタイルシート
├── js/
│   ├── firebase-config.js  # Firebase設定
│   └── app.js          # アプリケーションロジック
└── README.md           # このファイル
```

## 操作方法

### スタッフモード
- **チーム進捗管理**: 12チームの個別・一括進捗管理
- **全チーム操作**: 全チーム次へ/前へ/リセット
- **手動制御**: モニター前・後の画像表示制御、車両番号の更新
- **リアルタイム同期**: 進捗に応じて自動的に他の画面が更新

### モニターモード（全画面表示）
- スタッフからの指示に従って画像を全画面表示
- ステップに応じて自動的に画像が更新される
- 戻るボタンは右上に表示

### 車両番号モード
- スタッフからの指示に従って車両番号を表示
- ステップに応じて自動的に車両番号が更新される
- 大きくて見やすいフォントで表示

### カメラモード（全画面表示）
- スタッフからの指示に従ってカメラを制御
- 全画面表示で臨場感のある表示
- 今後の機能拡張で実際のカメラ機能を追加予定

## 今後の拡張予定

- [ ] 実際の画像アップロード機能
- [ ] カメラ機能の実装
- [ ] 音声制御機能
- [ ] より詳細なマスター制御機能
- [ ] セキュリティ強化
- [ ] ログ機能

## 注意事項

- Firebase設定は完了していますが、Realtime Databaseを有効にする必要があります
- Realtime Databaseが有効になると、複数端末での同期が可能になります
- スマートフォンやタブレットでの使用に最適化されています
- 画面はスクロールしないよう設計されており、全ての要素が一画面内に収まります

## トラブルシューティング

### Firebase接続ができない場合
1. `js/firebase-config.js`の設定が正しいか確認
2. Realtime Databaseが有効になっているか確認
3. ブラウザのコンソールでエラーメッセージを確認

### 画面が表示されない場合
1. ブラウザのコンソールでJavaScriptエラーを確認
2. `css/style.css`が正しく読み込まれているか確認
3. キャッシュをクリアしてページを再読み込み

## ライセンス

このプロジェクトは謎解き公演用に作成されたカスタムシステムです。 